<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>PathFilters.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">code-coverage-report</a> &gt; <a href="index.source.html" class="el_package">io.github.detekt.utils</a> &gt; <span class="el_source">PathFilters.kt</span></div><h1>PathFilters.kt</h1><pre class="source lang-java linenums">package io.github.detekt.utils

import java.nio.file.Path
import java.nio.file.PathMatcher

/**
 * Path filters to explicitly include and/or exclude paths for rules.
 */
<span class="fc" id="L9">class PathFilters internal constructor(</span>
<span class="fc" id="L10">    private val includes: Set&lt;PathMatcher&gt;?,</span>
<span class="fc" id="L11">    private val excludes: Set&lt;PathMatcher&gt;?</span>
) {

    /**
     * - If [includes] and [excludes] are not specified,
     *   return false.
     * - If [includes] is specified but [excludes] is not,
     *   return false iff [path] matches any [includes].
     * - If [includes] is not specified but [excludes] is,
     *   return true iff [path] matches any [excludes].
     * - If [includes] and [excludes] are both specified,
     *   return false iff [path] matches any [includes] and [path] does not match any [excludes].
     */
    fun isIgnored(path: Path): Boolean {
<span class="fc bfc" id="L25" title="All 2 branches covered.">        fun isIncluded() = includes?.any { it.matches(path) } ?: true</span>
<span class="fc bfc" id="L26" title="All 2 branches covered.">        fun isExcluded() = excludes?.any { it.matches(path) } ?: false</span>

<span class="fc bfc" id="L28" title="All 4 branches covered.">        return !(isIncluded() &amp;&amp; !isExcluded())</span>
    }

    companion object {
        fun of(includes: List&lt;String&gt;, excludes: List&lt;String&gt;): PathFilters? {
<span class="fc bfc" id="L33" title="All 4 branches covered.">            if (includes.isEmpty() &amp;&amp; excludes.isEmpty()) {</span>
<span class="fc" id="L34">                return null</span>
            }
<span class="fc" id="L36">            return PathFilters(parse(includes), parse(excludes))</span>
        }

        private fun parse(value: List&lt;String&gt;): Set&lt;PathMatcher&gt;? =
<span class="fc bfc" id="L40" title="All 2 branches covered.">            if (value.isEmpty()) {</span>
<span class="fc" id="L41">                null</span>
            } else {
<span class="fc" id="L43">                value</span>
<span class="fc" id="L44">                    .map { pathMatcher(it) }</span>
<span class="fc" id="L45">                    .toSet()</span>
<span class="fc" id="L46">            }</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202408290909</span></div></body></html>